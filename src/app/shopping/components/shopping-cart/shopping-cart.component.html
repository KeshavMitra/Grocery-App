<div class="row m-md-0 mt-5" *ngIf="cart$ | async as cart">
  <div class="col-12 col-md-10 pt-5 pt-md-0">
    <h2>Shopping Cart</h2>
    <p class="d-md-inline-block">
      You have {{cart.totalItemsCount}} items in your Shopping Cart
    </p>
    <div class="d-md-inline-block float-md-right pb-4">
      <button *ngIf="cart.items.length" (click)="clearCart()" class="btn btn-danger btn-sm">Clear Shopping Cart</button>
    </div>
  </div>
  <div class="col-12 col-md-10">
    <table class="table table-hover ">
      <thead class="thead-dark">
        <tr>
          <th>Product</th>
          <th colspan="2" class="text-center">Quantity</th>
          <th class="text-right">Price</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cart.items">
          <td><img [src]="item.product.imageUrl" class="thumbnail">
            <div>{{item.product.title}}</div>
          </td>
          <td colspan="2">
            <div class="row">
              <div class="col">
                <product-quantity [product]="item.product" [shopping-cart]="cart"></product-quantity>
              </div>
            </div>

          </td>
          <td class="text-right">{{item.totalPrice | currency:'INR':true}}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <th>Grand Total</th>
          <th></th>
          <th></th>
          <th class="text-right">{{ cart.totalPrice | currency:'INR':true  }}</th>
        </tr>
      </tfoot>
    </table>
  </div>

  <div class="col-12 col-md-10">
    <a *ngIf="cart.items.length" routerLink="/check-out" class="btn btn-primary d-block d-md-inline-block float-md-right">Check Out</a>
  </div>
</div>